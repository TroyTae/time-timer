{"version":3,"sources":["../node_modules/one-spaces/dist/index.esm.js","clock/clock.ts","utility.ts","timer/timer-model.ts","timer/reminder.ts","timer/favicon.ts","timer/display.ts","timer/timer.ts","index.ts"],"names":["n","r","t","e","o","length","pop","arguments"],"mappings":"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","file":"src.48557e53.js","sourceRoot":"..\\src","sourcesContent":["/**\n * @author TroyTae\n * @version 1.3.8\n * @license MIT\n * @name one-spaces\n */\nfunction n(r){for(var t,e=0,o=\"\";e<r.length;)(t=r[e++])&&(t.pop&&!(t=n(t))||(o&&(o+=\" \"),o+=t));return o}export default function(){return n(arguments)}\n","import * as styles from './clock.scss';\r\nimport spaces from 'one-spaces';\r\n\r\nconst clock = document.getElementById('clock');\r\n\r\nif (clock) {\r\n  Array(12).fill(null).forEach((v, i) => {\r\n    const min = i * 5;\r\n    const dot = document.createElement('div');\r\n    dot.className = spaces(styles.dot, styles[`m${min}`]);\r\n    const num = document.createElement('span');\r\n    num.className = spaces(styles.min, styles[`m${min}`]);\r\n    num.textContent = min.toString();\r\n    clock.appendChild(dot);\r\n    clock.appendChild(num);\r\n  });\r\n}\r\n","const getRadian = (degree: number) => (Math.PI / 180 * degree);\r\n\r\nconst getTanDegree = (x: number, y: number) => (Math.atan(y / x) * 180 / Math.PI);\r\n\r\nexport { getRadian, getTanDegree };\r\n","const TimerModel = (() => {\r\n    let seconds = 900;\r\n    let degree = 270;\r\n    return {\r\n      getSeconds() {\r\n        return seconds\r\n      },\r\n      getDegree() {\r\n        return degree\r\n      },\r\n      setSeconds(sec: number) {\r\n        seconds = sec;\r\n        degree = 360 - sec / 10;\r\n      },\r\n      setDegree(deg: number) {\r\n        degree = deg;\r\n        seconds = (360 - deg) * 10;\r\n      },\r\n    };\r\n})();\r\n\r\nexport const getSeconds = TimerModel.getSeconds;\r\nexport const getDegree = TimerModel.getDegree;\r\nexport const setSeconds = TimerModel.setSeconds;\r\nexport const setDegree = TimerModel.setDegree;\r\n","import {getRadian} from '/utility';\r\nimport {getDegree} from './timer-model';\r\n\r\nconst Reminder = (() => {\r\n  const circle = document.querySelector('#clock > .circle');\r\n\r\n  if (circle) {\r\n    const canvas = document.createElement('canvas');\r\n    const context = canvas.getContext('2d');\r\n\r\n    if (context) {\r\n      circle.appendChild(canvas);\r\n\r\n      return {\r\n        draw: () => {\r\n          const w = canvas.width;\r\n          const h = canvas.height;\r\n          const cx = w / 2;\r\n          const cy = h / 2;\r\n\r\n          context.clearRect(0, 0, w, h);\r\n          context.fillStyle = '#E31936';\r\n          context.beginPath();\r\n          context.arc(\r\n            cx,\r\n            cy,\r\n            cx,\r\n            getRadian(270),\r\n            getRadian(getDegree() - 90),\r\n            true\r\n          );\r\n          context.lineTo(cx, cy);\r\n          context.closePath();\r\n          context.fill();\r\n        },\r\n        resize: () => {\r\n          canvas.width = circle.clientWidth;\r\n          canvas.height = circle.clientHeight;\r\n        },\r\n        getCanvas: () => canvas,\r\n      };\r\n    }\r\n  }\r\n  throw 'Reminder is not rendered properly.';\r\n})();\r\n\r\nexport const draw = Reminder.draw;\r\nexport const resize = Reminder.resize;\r\nexport const getCanvas = Reminder.getCanvas;\r\n","import {getCanvas} from './reminder';\r\n\r\nconst canvas = getCanvas();\r\nconst favicon = document.createElement('link');\r\nfavicon.rel = 'shortcut icon';\r\ndocument.head.appendChild(favicon);\r\n\r\nexport const updateFavicon = () => {\r\n  favicon.href = canvas.toDataURL();\r\n};\r\n","import * as styles from './timer.scss';\r\nimport {draw} from './reminder';\r\nimport {getSeconds} from './timer-model';\r\n\r\nconst timeText = document.createElement('span');\r\ntimeText.className = styles.time;\r\n\r\nfunction twoDigits(seconds: number) {\r\n  return `0${Math.floor(seconds)}`.slice(-2);\r\n}\r\n\r\nfunction setTimeText() {\r\n  const sec = getSeconds();\r\n  timeText.textContent = `${twoDigits(sec / 60)}:${twoDigits(sec % 60)}`;\r\n  draw();\r\n}\r\n\r\nexport const getTimeText = () => timeText;\r\nexport {setTimeText};\r\n","import * as styles from './timer.scss';\r\nimport spaces from 'one-spaces';\r\n\r\nimport {getTanDegree} from '/utility';\r\nimport {resize, getCanvas} from './reminder';\r\nimport {updateFavicon} from './favicon';\r\nimport {getTimeText, setTimeText} from './display';\r\nimport {getSeconds, setDegree, setSeconds} from './timer-model';\r\n\r\nconst control = document.getElementById('timer');\r\n\r\nif (control) {\r\n  let isStarting = false;\r\n\r\n  const reset = document.createElement('button');\r\n  reset.className = spaces(styles.btn, styles.reset);\r\n  reset.addEventListener('click', () => {\r\n    setSeconds(900);\r\n    setTimeText();\r\n  });\r\n\r\n  const start = document.createElement('button');\r\n  start.className = spaces(styles.btn, styles.start);\r\n  start.addEventListener('click', (() => {\r\n    let key: number | null = null;\r\n    const stop = () => {\r\n      isStarting = false;\r\n      reset.disabled = false;\r\n      start.className = spaces(styles.btn, styles.start);\r\n      if (key) {\r\n        clearInterval(key);\r\n      }\r\n    };\r\n    return () => {\r\n      if (isStarting) {\r\n        stop();\r\n      } else {\r\n        isStarting = true;\r\n        reset.disabled = true;\r\n        start.className = spaces(styles.btn, styles.pause);\r\n        key = window.setInterval(() => {\r\n          const sec = getSeconds();\r\n          setSeconds(sec - 1);\r\n          setTimeText();\r\n          if (sec < 1) {\r\n            stop();\r\n            setSeconds(0);\r\n            setTimeText();\r\n          }\r\n          updateFavicon();\r\n        }, 1000);\r\n      }\r\n    };\r\n  })());\r\n\r\n  control.appendChild(reset);\r\n  control.appendChild(getTimeText());\r\n  control.appendChild(start);\r\n\r\n  (() => {\r\n    let isDrawing = false;\r\n    const canvas = getCanvas();\r\n    const initRemainder = () => {\r\n      resize();\r\n      setTimeText();\r\n    };\r\n    const destroy = () => {\r\n      isDrawing = false;\r\n      updateFavicon();\r\n    };\r\n\r\n    canvas.addEventListener('mousedown', () => (isDrawing = true));\r\n    canvas.addEventListener('mousemove', (e) => {\r\n      if (isDrawing && !isStarting) {\r\n        const x = e.offsetX - canvas.width / 2;\r\n        const y = e.offsetY - canvas.height / 2;\r\n        const degree = getTanDegree(x, y);\r\n\r\n        if ((x < 0 && 0 <= y) || (x < 0 && y < 0)) {\r\n          setDegree(degree + 270);\r\n        } else {\r\n          setDegree(degree + 90);\r\n        }\r\n        setTimeText();\r\n      }\r\n    }, {\r\n      passive: true\r\n    });\r\n    canvas.addEventListener('mouseup', destroy);\r\n    canvas.addEventListener('mouseleave', destroy);\r\n    window.addEventListener('resize', initRemainder);\r\n    initRemainder();\r\n    updateFavicon();\r\n  })();\r\n}\r\n","import './index.scss';\r\nimport './clock/clock';\r\nimport './timer/timer';\r\n\r\nconst root = document.createElement('style');\r\n\r\nroot.innerHTML = `\r\n  :root {\r\n    --primary: #FF9500;\r\n    --secondary: #545456;\r\n    --background: #F2F2F7;\r\n    --on-background: #FFF;\r\n  }\r\n`;\r\n\r\n// TODO 별도 UI로 만들기\r\n(window as any).toggleColor = (() => {\r\n  let toggled = false;\r\n  return () => {\r\n    if (toggled) {\r\n      document.head.removeChild(root);\r\n    } else {\r\n      document.head.appendChild(root);\r\n    }\r\n    toggled = !toggled;\r\n  };\r\n})();\r\n"]}