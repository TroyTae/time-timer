{"version":3,"sources":["../node_modules/noliter/dist/index.esm.js","../node_modules/one-spaces/dist/index.esm.js","TimeData.ts","clock/RedCircle.ts","clock/Clock.ts","timer/TimeText.ts","timer/Timer.ts","index.ts"],"names":["createElement","tagName","builder","element","document","removeChildren","parent","lastChild","removeChild","createObserver","initialValue","key","value","subscribers","newValue","k","callback","listenerKey","n","r","t","e","o","length","pop","arguments"],"mappings":"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","file":"src.9455d7c4.js","sourceRoot":"..\\src","sourcesContent":["function createElement(tagName, builder) {\r\n    var element = document.createElement(tagName);\r\n    if (builder) {\r\n        builder(element);\r\n    }\r\n    return element;\r\n}\r\nfunction removeChildren(parent) {\r\n    while (parent.lastChild) {\r\n        parent.removeChild(parent.lastChild);\r\n    }\r\n}\n\nfunction createObserver(initialValue) {\r\n    var key = 0;\r\n    var value = initialValue;\r\n    var subscribers = {};\r\n    return [\r\n        function getValue() {\r\n            return value;\r\n        },\r\n        function setValue(newValue) {\r\n            value = newValue;\r\n            for (var k in subscribers) {\r\n                subscribers[k](value);\r\n            }\r\n        },\r\n        function subscribeValue(callback) {\r\n            subscribers[key] = callback;\r\n            return key++;\r\n        },\r\n        function unsubscribeValue(listenerKey) {\r\n            delete subscribers[listenerKey];\r\n        },\r\n    ];\r\n}\n\nexport { createElement, createObserver, removeChildren };\n","/**\n * @author TroyTae\n * @version 1.3.8\n * @license MIT\n * @name one-spaces\n */\nfunction n(r){for(var t,e=0,o=\"\";e<r.length;)(t=r[e++])&&(t.pop&&!(t=n(t))||(o&&(o+=\" \"),o+=t));return o}export default function(){return n(arguments)}\n","import { createObserver } from \"noliter\";\r\n\r\nconst [isModified, setModified] = createObserver(false);\r\nconst [isStarted, setStarted, subscribeStarted] = createObserver(false);\r\nconst [getSeconds, setSeconds, subscribeSeconds] = createObserver(900);\r\n\r\nexport {\r\n  isModified,\r\n  setModified,\r\n  isStarted,\r\n  setStarted,\r\n  subscribeStarted,\r\n  getSeconds,\r\n  setSeconds,\r\n  subscribeSeconds,\r\n};\r\n","import { createElement } from \"noliter\";\r\nimport {\r\n  isModified,\r\n  setModified,\r\n  isStarted,\r\n  setSeconds,\r\n  subscribeSeconds,\r\n} from \"~/TimeData\";\r\nimport * as styles from \"./RedCircle.scss\";\r\n\r\nconst favicon = createElement(\"link\", (link) => {\r\n  link.rel = \"shortcut icon\";\r\n});\r\ndocument.head.appendChild(favicon);\r\n\r\nfunction startHandling() {\r\n  setModified(true);\r\n}\r\n\r\nfunction stopHandling() {\r\n  setModified(false);\r\n}\r\n\r\nfunction getRadian(degree: number) {\r\n  return (Math.PI / 180) * degree;\r\n}\r\n\r\nfunction drawWithCoordinate(x: number, y: number) {\r\n  if (isModified() && !isStarted()) {\r\n    const degree = (Math.atan(y / x) * 180) / Math.PI;\r\n    const isPos = (x < 0 && 0 <= y) || (x < 0 && y < 0);\r\n    setSeconds(Math.round(((isPos ? 90 : 270) - degree) * 10));\r\n  }\r\n}\r\n\r\nconst RedCircle = createElement(\"canvas\", (el) => {\r\n  el.id = styles.canvas;\r\n  el.addEventListener(\r\n    \"mousemove\",\r\n    (e) =>\r\n      drawWithCoordinate(\r\n        e.offsetX - RedCircle.width / 2,\r\n        e.offsetY - RedCircle.height / 2\r\n      ),\r\n    { passive: true }\r\n  );\r\n  el.addEventListener(\r\n    \"touchmove\",\r\n    (e) => {\r\n      const touch = e.touches[0];\r\n      const rect = RedCircle.getBoundingClientRect();\r\n      drawWithCoordinate(\r\n        touch.pageX - rect.x - RedCircle.width / 2,\r\n        touch.pageY - rect.y - RedCircle.height / 2\r\n      );\r\n    },\r\n    { passive: true }\r\n  );\r\n  el.addEventListener(\"mousedown\", startHandling);\r\n  el.addEventListener(\"touchstart\", startHandling);\r\n  el.addEventListener(\"mouseup\", stopHandling);\r\n  el.addEventListener(\"mouseleave\", stopHandling);\r\n  el.addEventListener(\"touchend\", stopHandling);\r\n});\r\nconst context = RedCircle.getContext(\"2d\");\r\n\r\nsubscribeSeconds((seconds) => {\r\n  const degree = 360 - seconds / 10;\r\n  const w = RedCircle.width;\r\n  const h = RedCircle.height;\r\n  const cx = w / 2;\r\n  const cy = h / 2;\r\n\r\n  context.clearRect(0, 0, w, h);\r\n  context.beginPath();\r\n  context.arc(cx, cy, cx, getRadian(270), getRadian(degree - 90));\r\n  context.lineTo(cx, cy);\r\n  context.closePath();\r\n  context.fillStyle = \"#FFF\";\r\n  context.fill();\r\n  context.beginPath();\r\n  context.arc(cx, cy, cx, getRadian(270), getRadian(degree - 90), true);\r\n  context.lineTo(cx, cy);\r\n  context.closePath();\r\n  context.fillStyle = \"#E31936\";\r\n  context.fill();\r\n\r\n  favicon.href = RedCircle.toDataURL();\r\n});\r\n\r\nexport default RedCircle;\r\n","import spaces from \"one-spaces\";\r\nimport { createElement } from \"noliter\";\r\nimport { isStarted, setSeconds } from \"~/TimeData\";\r\nimport RedCircle from \"~/clock/RedCircle\";\r\nimport * as styles from \"./Clock.scss\";\r\n\r\nexport default createElement(\"section\", (el) => {\r\n  el.id = styles.clock;\r\n  el.append(\r\n    RedCircle,\r\n    ...[...Array(12)]\r\n      .map((_, i) => (i + 1) * 5)\r\n      .map((min) =>\r\n        createElement(\"button\", (el) => {\r\n          el.textContent = min.toString();\r\n          el.className = spaces(styles.min, styles[`m${min}`]);\r\n          el.addEventListener(\"click\", () => {\r\n            if (!isStarted()) {\r\n              setSeconds(min * 60);\r\n            }\r\n          });\r\n        })\r\n      )\r\n  );\r\n});\r\n","import { createElement } from \"noliter\";\r\nimport { subscribeSeconds } from \"~/TimeData\";\r\nimport * as styles from \"./TimeText.scss\";\r\n\r\nconst TimeText = createElement(\"span\", (el) => (el.id = styles.timeText));\r\n\r\nfunction twoDigits(seconds: number) {\r\n  return `0${Math.floor(seconds)}`.slice(-2);\r\n}\r\n\r\nsubscribeSeconds((seconds) => {\r\n  TimeText.textContent = `${twoDigits(seconds / 60)}:${twoDigits(\r\n    seconds % 60\r\n  )}`;\r\n});\r\n\r\nexport default TimeText;\r\n","import spaces from \"one-spaces\";\r\nimport { createElement } from \"noliter\";\r\nimport {\r\n  getSeconds,\r\n  isStarted,\r\n  setSeconds,\r\n  setStarted,\r\n  subscribeStarted,\r\n} from \"~/TimeData\";\r\nimport TimeText from \"~/timer/TimeText\";\r\nimport * as styles from \"./Timer.scss\";\r\n\r\nconst Reset = createElement(\"button\", (el) => {\r\n  el.className = spaces(styles.btn, styles.reset);\r\n  el.addEventListener(\"click\", () => setSeconds(900));\r\n});\r\n\r\nconst Trigger = createElement(\"button\", (el) => {\r\n  el.className = spaces(styles.btn, styles.start);\r\n  el.addEventListener(\r\n    \"click\",\r\n    (() => {\r\n      let key: number | null = null;\r\n      const stop = () => {\r\n        setStarted(false);\r\n        clearInterval(key);\r\n      };\r\n      return () => {\r\n        if (isStarted()) {\r\n          stop();\r\n        } else {\r\n          setStarted(true);\r\n          key = window.setInterval(() => {\r\n            const sec = getSeconds() - 1;\r\n            setSeconds(sec);\r\n            if (sec < 1) {\r\n              stop();\r\n            }\r\n          }, 1000);\r\n        }\r\n      };\r\n    })()\r\n  );\r\n});\r\n\r\nsubscribeStarted((started) => {\r\n  Reset.disabled = started;\r\n  Trigger.className = spaces(styles.btn, started ? styles.pause : styles.start);\r\n});\r\n\r\nexport default createElement(\"section\", (el) => {\r\n  el.id = styles.timer;\r\n  el.append(Reset, TimeText, Trigger);\r\n});\r\n","import { createElement } from \"noliter\";\r\nimport Clock from \"~/clock/Clock\";\r\nimport RedCircle from \"~/clock/RedCircle\";\r\nimport Timer from \"~/timer/Timer\";\r\nimport { getSeconds, setSeconds } from \"~/TimeData\";\r\nimport * as styles from \"./index.scss\";\r\n\r\ndocument.body.appendChild(\r\n  createElement(\"article\", (article) => {\r\n    article.id = styles.app;\r\n    article.append(\r\n      createElement(\"header\", (header) => {\r\n        header.id = styles.header;\r\n        header.textContent = \"Time Timer\";\r\n      }),\r\n      Clock,\r\n      Timer\r\n    );\r\n  })\r\n);\r\n\r\nfunction resize() {\r\n  RedCircle.width = RedCircle.clientWidth;\r\n  RedCircle.height = RedCircle.clientHeight;\r\n  setSeconds(getSeconds());\r\n}\r\nwindow.addEventListener(\"resize\", resize);\r\nresize();\r\n"]}